(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(30),o=n.n(a),r=n(14),s=n(27),l=n(28),d=n(20),u=n(37),j=n(36),b=(n(99),n(154)),f=n(156),h=n(164),m=n(155),x=n(35),p=n.n(x),O=n(13),v=n(157),g=n(145),C=n(153),y=n(81),N=n.n(y),M=n(151),w=n(82),E=n.n(w),S=n(1),k=function(e){return Object(S.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(S.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Title"}),Object(S.jsx)("div",{ref:e.fieldRef,className:"text-field",contentEditable:"plaintext-only",id:"editfield",onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),0!==e.percentChar&&Object(S.jsx)("div",{className:"characters",children:Object(S.jsx)("div",{className:e.countChar>=0?"circle-wrap":"circle-red circle-wrap",style:{"--deg":e.percentChar},children:Object(S.jsxs)("div",{className:"circle",children:[Object(S.jsx)("div",{className:"mask full",children:Object(S.jsx)("div",{className:"fill",children:" "})}),Object(S.jsx)("div",{className:"mask half",children:Object(S.jsx)("div",{className:"fill",children:" "})}),Object(S.jsx)("div",{className:"inside-circle",children:e.countChar<10&&Object(S.jsxs)("span",{className:e.countChar>=0?"text-orange":"text-red",children:[e.countChar," "]})})]})})})]})},L=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).codeView=function(){},i.modeExecCommand=function(e){document.execCommand(e)},i.state={editor:e.editor.current},i.codeView=i.codeView.bind(Object(d.a)(i)),i.modeExecCommand=i.modeExecCommand.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(S.jsxs)(f.a,{children:[Object(S.jsx)(C.a,{onClick:function(){return e.modeExecCommand("bold")},children:Object(S.jsx)("b",{children:"B"})}),Object(S.jsx)(C.a,{onClick:function(){return e.modeExecCommand("italic")},children:Object(S.jsx)("i",{children:"I"})}),Object(S.jsx)(C.a,{onClick:function(){return e.modeExecCommand("underline")},children:Object(S.jsx)("u",{children:"U"})}),Object(S.jsx)(C.a,{onClick:function(){return e.modeExecCommand("insertUnorderedList")},children:"ul"}),Object(S.jsx)(C.a,{onClick:function(){return e.modeExecCommand("insertOrderedList")},children:"ol"})]})}}]),n}(i.Component),I=function(e){return Object(S.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(S.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Content"}),Object(S.jsx)(L,{editor:e.fieldRef}),Object(S.jsx)("div",{ref:e.fieldRef,className:"text-field html-field",contentEditable:!0,onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv})]})};function T(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var i=0;i<e.childNodes.length&&(n=T(e.childNodes[i],t,n),0!==t.count);i++);return n}function F(e,t){if(t>=0){var n=window.getSelection(),i=T(e,{count:t});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}var R=function(e,t,n,i){var c=t.innerText,a=n-c.length,o=100*c.length/n,r=function(e){var t,n=window.getSelection(),i=-1;if(n.focusNode&&function(e,t){for(;null!==e;){if(e.id===t.id)return!0;e=e.parentNode}return!1}(n.focusNode,e))for(t=n.focusNode,i=n.focusOffset;t&&t.id!==e.id;)if(t.previousSibling)i+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return i}(t);if(c.length>n){var s=c.slice(0,n),l=c.slice(n);l='<span style="background:red; color:#ffffff">'.concat(l,"</span>"),i.current.innerHTML=s+l,F(t,r)}return{valid:o<=100,count:a,percent:o<=100?o:100.1}};Element.prototype.removeAttributes=function(e){var t=this;e.forEach((function(e){return t.removeAttribute(e)}))};var B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.querySelectorAll(t).forEach((function(e){e.remove()})),e.querySelectorAll("*").forEach((function(e){"fixed"===e.style.position&&(e.style.position="absolute"),e.removeAttributes(n)}))},A=function(e){return Object(S.jsx)(C.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(S.jsx)(p.a,{}),size:"large",onClick:e.create,sx:{mb:5},children:"Create note"})},H=function(e){var t=Object(i.useState)(!1),n=Object(O.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(""),r=Object(O.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)(""),u=Object(O.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)(!1),m=Object(O.a)(h,2),x=m[0],p=m[1],y=Object(i.useState)(0),w=Object(O.a)(y,2),L=w[0],T=w[1],F=Object(i.useState)(0),A=Object(O.a)(F,2),H=A[0],D=A[1],P=Object(i.useRef)(null),_=Object(i.useRef)(null);function z(){p(!1),a(!1),b(""),l(""),P.current.innerHTML="",_.current.innerHTML="",P.current.focus()}function q(t){if(t.preventDefault(),(""!==j||""!==s)&&R(t,P.current,100,P).valid){a(!0);try{var n=e.notes.findIndex((function(e){return e.id===x}));e.save({id:-1!==n?x:Date.now(),title:s||"No name",content:j||"empty"},n),z()}catch(i){console.log(i)}}}return Object(i.useEffect)((function(){e.id||z(),e.id&&e.id!==x&&p(e.id)}),[e.id]),Object(i.useEffect)((function(){if(e.id&&x&&e.id===x){var t=e.notes.filter((function(t){return t.id===e.id}))[0];b(t.content),l(t.title),P.current.innerHTML=t.title,_.current.innerHTML=t.content,P.current.focus()}}),[x]),e.id&&!x&&e.id!==x&&p(e.id),Object(S.jsxs)(f.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{mt:1,"& .MuiTextField-root":{m:1,width:"100%"}},onSubmit:q,children:[Object(S.jsx)(f.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start"},children:Object(S.jsx)(v.a,{variant:"h4",component:"div",gutterBottom:!0,className:"fi=orm-title",sx:{mb:5},children:x?"Edit Note":"New Note"})}),Object(S.jsx)(k,{changeEv:function(e){var t=R(e,e.target,100,P);T(t.count),D(t.percent),l(e.target.innerText)},countChar:L,percentChar:H,fieldRef:P}),Object(S.jsx)(I,{changeEv:function(e){B(e.target,"iframe, script, noscript, frame, form, input, textarea",["data-ga ","id","jsaction","jscontroller","onclick","data-ved","ping","data-google-query-id","itemprop"]),b(e.target.innerHTML)},fieldRef:_}),Object(S.jsxs)(g.a,{direction:"row",spacing:4,sx:{mt:3,justifyContent:"flex-end"},children:[Object(S.jsx)(C.a,{"aria-label":"cancel",variant:"text",color:"secondary",startIcon:Object(S.jsx)(N.a,{}),onClick:e.cancel,children:"Cancel"}),Object(S.jsx)(M.a,{color:"secondary",onClick:q,loading:c,loadingPosition:"start",startIcon:Object(S.jsx)(E.a,{}),variant:"contained",disabled:""===j&&""===s||H>100,children:"Save"})]})]})},D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(S.jsx)(H,{id:this.props.id,cancel:this.props.cancel,notes:this.props.notes,save:this.props.save,create:this.props.create})}}]),n}(i.Component),P=n(149),_=function(e){var t=e.data,n=t.title,c=t.content,a=Object(i.useRef)(null),o=Object(i.useState)(""),r=Object(O.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)({top:0,left:0}),u=Object(O.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return a.current.querySelectorAll("a").forEach((function(e){e.addEventListener("click",p)})),function(){window.removeEventListener("click",p)}}),[e.data]),Object(i.useEffect)((function(){}),[s]);var h=function(){l("")},m=Boolean(s),x=m?"simple-popover":void 0,p=function(e){var t,n,i;e.preventDefault(),e.target.setAttribute("aria-describedby",x),l(e.target.getAttribute("href")),b({top:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.getBoundingClientRect().y)+(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.getBoundingClientRect().height),left:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getBoundingClientRect().x})};return Object(S.jsxs)(f.a,{component:"div",className:"notes-preview",sx:{mt:1,mb:10,flexGrow:1,width:"100%"},children:[Object(S.jsxs)(f.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start",flexWrap:"wrap-reverse"},children:[Object(S.jsx)(v.a,{variant:"h4",component:"div",gutterBottom:!0,className:"notes-title",sx:{mb:5},children:n}),Object(S.jsx)(A,{create:e.create})]}),Object(S.jsxs)(f.a,{component:"div",children:[Object(S.jsx)(v.a,{ref:a,variant:"body2",gutterBottom:!0,className:"notes-description",dangerouslySetInnerHTML:{__html:c}}),Object(S.jsxs)(P.a,{anchorReference:"anchorPosition",anchorPosition:{top:j.top,left:j.left},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:h,id:x,open:m,children:[Object(S.jsx)(v.a,{variant:"body3",sx:{p:1},children:"Open the link in a new tab?"}),Object(S.jsx)(C.a,{onClick:h,size:"small",children:"No"}),Object(S.jsx)(C.a,{onClick:function(){s&&window.open(s),h()},size:"small",children:"Yes"})]})]})]})},z=function(e){return Object(S.jsx)(_,{data:e.note,create:e.create})},q=function(e,t){var n=localStorage.getItem(e);return JSON.parse(n)||t},J=q("list",[]),U=function(e){return localStorage.setItem("list",JSON.stringify(e))},V=function(e){return Object(S.jsxs)(f.a,{className:"fullscreen-container",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,m:1},children:[Object(S.jsx)(v.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"notes-title",sx:{textAlign:"center",mb:10},dangerouslySetInnerHTML:{__html:e.headline}}),Object(S.jsx)(C.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(S.jsx)(p.a,{}),size:"large",onClick:e.create,children:"Create note"})]})},W=n(159),K=n(160),Y=n(161),G=n(162),X=n(163),Q=n(83),Z=n.n(Q),$=n(84),ee=n.n($);function te(e,t){return e.length>t?e.substring(0,t-1)+"...":e}var ne=function(e){var t,n=e.data,i=n.title,c=n.content,a=n.id;return Object(S.jsx)(W.a,{className:"notes-item",onClick:function(){return e.open(a)},children:Object(S.jsxs)(K.a,{component:"div",children:[Object(S.jsxs)(Y.a,{children:[Object(S.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",className:"notes-title",children:i}),Object(S.jsx)(v.a,{variant:"body2",color:"text.secondary",className:"notes-description",dangerouslySetInnerHTML:{__html:te((t=c,t.replace(/(<([^>]+)>)/gi,"")),200)}})]}),Object(S.jsxs)(G.a,{className:"notes-btns",children:[Object(S.jsx)(X.a,{"aria-label":"edit",color:"primary",onClick:function(t){return e.edit(t,a)},children:Object(S.jsx)(Z.a,{})}),Object(S.jsx)(X.a,{"aria-label":"delete",color:"primary",onClick:function(t){return e.delete(t,a)},children:Object(S.jsx)(ee.a,{})})]})]})})},ie=function(e){var t=(e.notes||[]).map((function(t,n){return Object(S.jsx)(ne,{data:t,delete:e.delete,edit:e.edit,open:e.open},n)}));return Object(S.jsx)(f.a,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:3,minWidth:"100%"},children:t})},ce=n(148),ae=function(e){var t=Object(i.useState)(""),n=Object(O.a)(t,2),c=n[0],a=n[1],o=(e.notes||[]).filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())||e.content.toLowerCase().includes(c.toLowerCase())}));return Object(S.jsxs)(b.a,{item:!0,xs:16,md:5,sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:10,mb:10,width:"100%"},children:[Object(S.jsx)(g.a,{spacing:2,sx:{width:"100%"},children:Object(S.jsx)(ce.a,{type:"search",placeholder:"Search",onChange:function(e){return a(e.target.value)},variant:"standard"})}),Object(S.jsx)(ie,{notes:o,delete:e.delete,edit:e.edit,open:e.open})]})},oe=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={notes:J,isEmpty:!J.length,previewMode:J.length>0,editMode:!1,id:!1},i.create=i.create.bind(Object(d.a)(i)),i.cancel=i.cancel.bind(Object(d.a)(i)),i.updateList=i.updateList.bind(Object(d.a)(i)),i.delete=i.delete.bind(Object(d.a)(i)),i.edit=i.edit.bind(Object(d.a)(i)),i.save=i.save.bind(Object(d.a)(i)),i.open=i.open.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"create",value:function(){this.setState({isEmpty:!1,editMode:!0,id:!1,previewMode:!1})}},{key:"cancel",value:function(){this.setState({isEmpty:!0,editMode:!1,previewMode:!0,id:!1})}},{key:"updateList",value:function(e){this.setState({notes:e,id:!1})}},{key:"save",value:function(e,t){var n=this.state.notes;t>=0?n[t]=e:n=[].concat(Object(r.a)(n),[e]),U(n),this.updateList(n)}},{key:"delete",value:function(e,t){e.stopPropagation();var n=this.state.notes.filter((function(e){return e.id!==t}));U(n),this.setState((function(e){return{notes:n,id:t!==e.id&&e.id,editMode:t!==e.id,previewMode:t===e.id}}))}},{key:"edit",value:function(e,t){e.stopPropagation(),this.setState({editMode:!0,previewMode:!1,id:t})}},{key:"open",value:function(e){this.setState({editMode:!1,previewMode:!0,id:e})}},{key:"render",value:function(){var e=this,t={title:"Empty",content:"Choose a note to display."};return this.state.previewMode&&this.state.id&&(t=this.state.notes.find((function(t){return t.id===e.state.id}))),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsxs)(m.a,{maxWidth:"lg",children:[!this.state.notes.length&&this.state.isEmpty&&Object(S.jsx)(V,{create:this.create,headline:"Welcome! <br/> You can create your first note."}),(this.state.notes.length||!this.state.isEmpty)&&Object(S.jsxs)(b.a,{container:!0,spacing:5,columns:16,children:[Object(S.jsx)(ae,{notes:this.state.notes,delete:this.delete,edit:this.edit,open:this.open}),Object(S.jsxs)(b.a,{item:!0,xs:16,md:11,className:"col-wrp",children:[(this.state.editMode||this.state.id)&&!this.state.previewMode&&Object(S.jsx)(f.a,{component:"div",className:"notes-create",sx:{mb:10},children:Object(S.jsx)(D,{id:this.state.id,cancel:this.cancel,notes:this.state.notes,save:this.save,create:this.create})}),this.state.previewMode&&Object(S.jsx)(z,{note:t,create:this.create})]})]})]}),Object(S.jsx)("div",{className:"fixed-button",children:Object(S.jsx)(h.a,{color:"secondary","aria-label":"add",onClick:this.create,children:Object(S.jsx)(p.a,{})})})]})}}]),n}(i.Component),re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(oe,{})}),document.getElementById("root")),re()},99:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.b55bb7e6.chunk.js.map