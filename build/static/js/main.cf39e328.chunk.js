(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(27),o=n.n(c),r=n(14),s=n(33),l=n(34),d=n(23),u=n(56),j=n(54),b=(n(99),n(154)),f=n(156),h=n(164),p=n(155),m=n(35),x=n.n(m),v=n(13),O=n(157),g=n(145),y=n(153),C=n(81),N=n.n(C),M=n(151),w=n(82),S=n.n(w),E=n(2),L=function(e){return Object(E.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(E.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Title"}),Object(E.jsx)("div",{ref:e.fieldRef,className:"text-field",contentEditable:"plaintext-only",id:"editfield",onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),0!==e.percentChar&&Object(E.jsx)("div",{className:"characters",children:Object(E.jsx)("div",{className:e.countChar>=0?"circle-wrap":"circle-red circle-wrap",style:{"--deg":e.percentChar},children:Object(E.jsxs)("div",{className:"circle",children:[Object(E.jsx)("div",{className:"mask full",children:Object(E.jsx)("div",{className:"fill",children:" "})}),Object(E.jsx)("div",{className:"mask half",children:Object(E.jsx)("div",{className:"fill",children:" "})}),Object(E.jsx)("div",{className:"inside-circle",children:e.countChar<10&&Object(E.jsxs)("span",{className:e.countChar>=0?"text-orange":"text-red",children:[e.countChar," "]})})]})})})]})},k=function(e){return Object(E.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(E.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Content"}),Object(E.jsx)("div",{ref:e.fieldRef,className:"text-field html-field",contentEditable:!0,onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv})]})};function I(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var i=0;i<e.childNodes.length&&(n=I(e.childNodes[i],t,n),0!==t.count);i++);return n}function T(e,t){if(t>=0){var n=window.getSelection(),i=I(e,{count:t});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}var F=function(e,t,n,i){var a=t.innerText,c=n-a.length,o=100*a.length/n,r=function(e){var t,n=window.getSelection(),i=-1;if(n.focusNode&&function(e,t){for(;null!==e;){if(e.id===t.id)return!0;e=e.parentNode}return!1}(n.focusNode,e))for(t=n.focusNode,i=n.focusOffset;t&&t.id!==e.id;)if(t.previousSibling)i+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return i}(t);if(a.length>n){var s=a.slice(0,n),l=a.slice(n);l='<span style="background:red; color:#ffffff">'.concat(l,"</span>"),i.current.innerHTML=s+l,T(t,r)}return{valid:o<=100,count:c,percent:o<=100?o:100.1}};Element.prototype.removeAttributes=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){return e.removeAttribute(t)}))};var R=function(e,t){e.querySelectorAll(t).forEach((function(e){e.remove()})),e.querySelectorAll("*").forEach((function(e){"fixed"===e.style.position&&(e.style.position="absolute"),e.removeAttributes("data-ga ","id","onclick","data-google-query-id","itemprop")}))},B=function(e){return Object(E.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(E.jsx)(x.a,{}),size:"large",onClick:e.create,children:"Create note"})},A=function(e){var t=Object(i.useState)(!1),n=Object(v.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)(""),r=Object(v.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)(""),u=Object(v.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)(!1),p=Object(v.a)(h,2),m=p[0],x=p[1],C=Object(i.useState)(0),w=Object(v.a)(C,2),I=w[0],T=w[1],A=Object(i.useState)(0),H=Object(v.a)(A,2),D=H[0],P=H[1],_=Object(i.useRef)(null),z=Object(i.useRef)(null);function q(){x(!1),c(!1),b(""),l(""),_.current.innerHTML="",z.current.innerHTML="",_.current.focus()}function J(t){if(t.preventDefault(),(""!==j||""!==s)&&F(t,_.current,100,_).valid){c(!0);try{var n=e.notes.findIndex((function(e){return e.id===m}));e.save({id:-1!==n?m:Date.now(),title:s||"No name",content:j||"empty"},n),q()}catch(i){console.log(i)}}}return Object(i.useEffect)((function(){e.id||q(),e.id&&e.id!==m&&x(e.id)}),[e.id]),Object(i.useEffect)((function(){if(e.id&&m&&e.id===m){var t=e.notes.filter((function(t){return t.id===e.id}))[0];b(t.content),l(t.title),_.current.innerHTML=t.title,z.current.innerHTML=t.content,_.current.focus()}}),[m]),e.id&&!m&&e.id!==m&&x(e.id),Object(E.jsxs)(f.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{mt:1,"& .MuiTextField-root":{m:1,width:"100%"}},onSubmit:J,children:[Object(E.jsxs)(f.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start"},children:[Object(E.jsx)(O.a,{variant:"h4",component:"div",gutterBottom:!0,className:"fi=orm-title",sx:{mb:5},children:m?"Edit Note":"New Note"}),Object(E.jsx)(B,{create:e.create})]}),Object(E.jsx)(L,{changeEv:function(e){var t=F(e,e.target,100,_);T(t.count),P(t.percent),l(e.target.innerText)},countChar:I,percentChar:D,fieldRef:_}),Object(E.jsx)(k,{changeEv:function(e){R(e.target,"iframe, script, noscript, frame, form, input, textarea"),b(e.target.innerHTML)},fieldRef:z}),Object(E.jsxs)(g.a,{direction:"row",spacing:4,sx:{mt:3,justifyContent:"flex-end"},children:[Object(E.jsx)(y.a,{"aria-label":"cancel",variant:"text",color:"secondary",startIcon:Object(E.jsx)(N.a,{}),onClick:e.cancel,children:"Cancel"}),Object(E.jsx)(M.a,{color:"secondary",onClick:J,loading:a,loadingPosition:"start",startIcon:Object(E.jsx)(S.a,{}),variant:"contained",disabled:""===j&&""===s||D>100,children:"Save"})]})]})},H=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(E.jsx)(A,{id:this.props.id,cancel:this.props.cancel,notes:this.props.notes,save:this.props.save,create:this.props.create})}}]),n}(i.Component),D=n(149),P=function(e){var t=e.data,n=t.title,a=t.content,c=Object(i.useRef)(null),o=Object(i.useState)(""),r=Object(v.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)({top:0,left:0}),u=Object(v.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return c.current.querySelectorAll("a").forEach((function(e){e.addEventListener("click",x)})),function(){window.removeEventListener("click",x)}}),[e.data]),Object(i.useEffect)((function(){}),[s]);var h=function(){l("")},p=Boolean(s),m=p?"simple-popover":void 0,x=function(e){var t,n,i;e.preventDefault(),e.target.setAttribute("aria-describedby",m),l(e.target.getAttribute("href")),b({top:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.getBoundingClientRect().y)+(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.getBoundingClientRect().height),left:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getBoundingClientRect().x})};return Object(E.jsxs)(f.a,{component:"div",className:"notes-preview",sx:{mt:1,mb:10,flexGrow:1,width:"100%"},children:[Object(E.jsxs)(f.a,{sx:{display:"flex",justifyContent:"space-between",marginBottom:"1rem",mt:10,alignItems:"flex-start"},children:[Object(E.jsx)(O.a,{variant:"h4",component:"div",gutterBottom:!0,className:"notes-title",sx:{mb:5},children:n}),Object(E.jsx)(B,{create:e.create})]}),Object(E.jsxs)(f.a,{component:"div",children:[Object(E.jsx)(O.a,{ref:c,variant:"body2",gutterBottom:!0,className:"notes-description",dangerouslySetInnerHTML:{__html:a}}),Object(E.jsxs)(D.a,{anchorReference:"anchorPosition",anchorPosition:{top:j.top,left:j.left},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:h,id:m,open:p,children:[Object(E.jsx)(O.a,{variant:"body3",sx:{p:1},children:"Open the link in a new tab?"}),Object(E.jsx)(y.a,{onClick:h,size:"small",children:"No"}),Object(E.jsx)(y.a,{onClick:function(){s&&window.open(s),h()},size:"small",children:"Yes"})]})]})]})},_=function(e){return Object(E.jsx)(P,{data:e.note,create:e.create})},z=function(e,t){var n=localStorage.getItem(e);return JSON.parse(n)||t},q=z("list",[]),J=function(e){return localStorage.setItem("list",JSON.stringify(e))},W=function(e){return Object(E.jsxs)(f.a,{className:"fullscreen-container",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,m:1},children:[Object(E.jsx)(O.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"notes-title",sx:{textAlign:"center",mb:10},dangerouslySetInnerHTML:{__html:e.headline}}),Object(E.jsx)(y.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(E.jsx)(x.a,{}),size:"large",onClick:e.create,children:"Create note"})]})},K=n(159),U=n(160),Y=n(161),G=n(162),V=n(163),X=n(83),Q=n.n(X),Z=n(84),$=n.n(Z);function ee(e,t){return e.length>t?e.substring(0,t-1)+"...":e}var te=function(e){var t,n=e.data,i=n.title,a=n.content,c=n.id;return Object(E.jsx)(K.a,{className:"notes-item",onClick:function(){return e.open(c)},children:Object(E.jsxs)(U.a,{component:"div",children:[Object(E.jsxs)(Y.a,{children:[Object(E.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"div",className:"notes-title",children:i}),Object(E.jsx)(O.a,{variant:"body2",color:"text.secondary",className:"notes-description",dangerouslySetInnerHTML:{__html:ee((t=a,t.replace(/(<([^>]+)>)/gi,"")),200)}})]}),Object(E.jsxs)(G.a,{className:"notes-btns",children:[Object(E.jsx)(V.a,{"aria-label":"edit",color:"primary",onClick:function(t){return e.edit(t,c)},children:Object(E.jsx)(Q.a,{})}),Object(E.jsx)(V.a,{"aria-label":"delete",color:"primary",onClick:function(t){return e.delete(t,c)},children:Object(E.jsx)($.a,{})})]})]})})},ne=function(e){var t=(e.notes||[]).map((function(t,n){return Object(E.jsx)(te,{data:t,delete:e.delete,edit:e.edit,open:e.open},n)}));return Object(E.jsx)(f.a,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:3,minWidth:"100%"},children:t})},ie=n(148),ae=function(e){var t=Object(i.useState)(""),n=Object(v.a)(t,2),a=n[0],c=n[1],o=(e.notes||[]).filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())||e.content.toLowerCase().includes(a.toLowerCase())}));return Object(E.jsxs)(b.a,{item:!0,xs:16,md:5,sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:10,width:"100%"},children:[Object(E.jsx)(g.a,{spacing:2,sx:{width:"100%"},children:Object(E.jsx)(ie.a,{type:"search",placeholder:"Search",onChange:function(e){return c(e.target.value)},variant:"standard"})}),Object(E.jsx)(ne,{notes:o,delete:e.delete,edit:e.edit,open:e.open})]})},ce=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={notes:q,isEmpty:!q.length,previewMode:q.length>0,editMode:!1,id:!1},i.create=i.create.bind(Object(d.a)(i)),i.cancel=i.cancel.bind(Object(d.a)(i)),i.updateList=i.updateList.bind(Object(d.a)(i)),i.delete=i.delete.bind(Object(d.a)(i)),i.edit=i.edit.bind(Object(d.a)(i)),i.save=i.save.bind(Object(d.a)(i)),i.open=i.open.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"create",value:function(){this.setState({isEmpty:!1,editMode:!0,id:!1,previewMode:!1})}},{key:"cancel",value:function(){this.setState({isEmpty:!0,editMode:!1,previewMode:!0,id:!1})}},{key:"updateList",value:function(e){this.setState({notes:e,id:!1})}},{key:"save",value:function(e,t){var n=this.state.notes;t>=0?n[t]=e:n=[].concat(Object(r.a)(n),[e]),J(n),this.updateList(n)}},{key:"delete",value:function(e,t){e.stopPropagation();var n=this.state.notes.filter((function(e){return e.id!==t}));J(n),this.setState((function(e){return{notes:n,id:t!==e.id&&e.id,editMode:t!==e.id,previewMode:t===e.id}}))}},{key:"edit",value:function(e,t){e.stopPropagation(),this.setState({editMode:!0,previewMode:!1,id:t})}},{key:"open",value:function(e){this.setState({editMode:!1,previewMode:!0,id:e})}},{key:"render",value:function(){var e=this,t={title:"Empty",content:"Choose a note to display."};return this.state.previewMode&&this.state.id&&(t=this.state.notes.find((function(t){return t.id===e.state.id}))),Object(E.jsxs)("div",{className:"App",children:[Object(E.jsxs)(p.a,{maxWidth:"lg",children:[!this.state.notes.length&&this.state.isEmpty&&Object(E.jsx)(W,{create:this.create,headline:"Welcome! <br/> You can create your first note."}),(this.state.notes.length||!this.state.isEmpty)&&Object(E.jsxs)(b.a,{container:!0,spacing:5,columns:16,children:[Object(E.jsx)(ae,{notes:this.state.notes,delete:this.delete,edit:this.edit,open:this.open}),Object(E.jsxs)(b.a,{item:!0,xs:16,md:11,children:[(this.state.editMode||this.state.id)&&!this.state.previewMode&&Object(E.jsx)(f.a,{component:"div",className:"notes-create",sx:{mb:10},children:Object(E.jsx)(H,{id:this.state.id,cancel:this.cancel,notes:this.state.notes,save:this.save,create:this.create})}),this.state.previewMode&&Object(E.jsx)(_,{note:t,create:this.create})]})]})]}),Object(E.jsx)("div",{className:"fixed-button",children:Object(E.jsx)(h.a,{color:"secondary","aria-label":"add",onClick:this.create,children:Object(E.jsx)(x.a,{})})})]})}}]),n}(i.Component),oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),c(e),o(e)}))};o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(ce,{})}),document.getElementById("root")),oe()},99:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.cf39e328.chunk.js.map