(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{88:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),a=n(25),o=n.n(a),r=n(17),s=n(27),l=n(28),d=n(22),u=n(51),j=n(49),f=(n(88),n(130)),b=n(138),h=n(129),p=n(48),v=n.n(p),m=n(12),O=n(131),x=n(122),g=n(128),y=n(73),N=n.n(y),M=n(126),C=n(74),S=n.n(C),w=n(1),E=function(e){return Object(w.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(w.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Title"}),Object(w.jsx)("div",{ref:e.fieldRef,className:"text-field",contentEditable:"plaintext-only",id:"editfield",onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv}),0!==e.percentChar&&Object(w.jsx)("div",{className:"characters",children:Object(w.jsx)("div",{className:e.countChar>=0?"circle-wrap":"circle-red circle-wrap",style:{"--deg":e.percentChar},children:Object(w.jsxs)("div",{className:"circle",children:[Object(w.jsx)("div",{className:"mask full",children:Object(w.jsx)("div",{className:"fill",children:" "})}),Object(w.jsx)("div",{className:"mask half",children:Object(w.jsx)("div",{className:"fill",children:" "})}),Object(w.jsx)("div",{className:"inside-circle",children:e.countChar<10&&Object(w.jsxs)("span",{className:e.countChar>=0?"text-orange":"text-red",children:[e.countChar," "]})})]})})})]})},L=function(e){return Object(w.jsxs)("div",{className:"MuiFormControl-root MuiTextField-root editable-field",children:[Object(w.jsx)("label",{className:"MuiInputLabel-root MuiInputLabel-formControl MuiInputLabel-animated MuiInputLabel-standard MuiFormLabel-root MuiFormLabel-colorSecondary ",children:"Content"}),Object(w.jsx)("div",{ref:e.fieldRef,className:"text-field html-field",contentEditable:!0,onInput:e.changeEv,onFocus:e.changeEv,onKeyUp:e.changeEv})]})};function k(e,t,n){if(n||((n=document.createRange()).selectNode(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var i=0;i<e.childNodes.length&&(n=k(e.childNodes[i],t,n),0!==t.count);i++);return n}function I(e,t){if(t>=0){var n=window.getSelection(),i=k(e,{count:t});i&&(i.collapse(!1),n.removeAllRanges(),n.addRange(i))}}var T=function(e,t,n,i){var c=t.innerText,a=n-c.length,o=100*c.length/n,r=function(e){var t,n=window.getSelection(),i=-1;if(n.focusNode&&function(e,t){for(;null!==e;){if(e.id===t.id)return!0;e=e.parentNode}return!1}(n.focusNode,e))for(t=n.focusNode,i=n.focusOffset;t&&t.id!==e.id;)if(t.previousSibling)i+=(t=t.previousSibling).textContent.length;else if(null===(t=t.parentNode))break;return i}(t);if(c.length>n){var s=c.slice(0,n),l=c.slice(n);l='<span style="background:red; color:#ffffff">'.concat(l,"</span>"),i.current.innerHTML=s+l,I(t,r)}return{valid:o<=100,count:a,percent:o<=100?o:100.1}};Element.prototype.removeAttributes=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){return e.removeAttribute(t)}))};var F=function(e,t){e.querySelectorAll(t).forEach((function(e){e.remove()})),e.querySelectorAll("*").forEach((function(e){"fixed"===e.style.position&&(e.style.position="absolute"),e.removeAttributes("data-ga ","id","onclick","data-google-query-id","itemprop")}))},R=function(e){var t=Object(i.useState)(!1),n=Object(m.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(""),r=Object(m.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)(""),u=Object(m.a)(d,2),j=u[0],b=u[1],h=Object(i.useState)(!1),p=Object(m.a)(h,2),v=p[0],y=p[1],C=Object(i.useState)(0),k=Object(m.a)(C,2),I=k[0],R=k[1],A=Object(i.useState)(0),B=Object(m.a)(A,2),H=B[0],D=B[1],P=Object(i.useRef)(null),_=Object(i.useRef)(null);function W(){y(!1),a(!1),b(""),l(""),P.current.innerHTML="",_.current.innerHTML="",P.current.focus()}function z(t){if(t.preventDefault(),(""!==j||""!==s)&&T(t,P.current,100,P).valid){a(!0);try{var n=e.notes.findIndex((function(e){return e.id===v}));e.save({id:-1!==n?v:Date.now(),title:s||"No name",content:j||"empty"},n),W()}catch(i){console.log(i)}}}return Object(i.useEffect)((function(){e.id||W(),e.id&&e.id!==v&&y(e.id)}),[e.id]),Object(i.useEffect)((function(){if(e.id&&v&&e.id===v){var t=e.notes.filter((function(t){return t.id===e.id}))[0];b(t.content),l(t.title),P.current.innerHTML=t.title,_.current.innerHTML=t.content,P.current.focus()}}),[v]),e.id&&!v&&e.id!==v&&y(e.id),Object(w.jsxs)(f.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{mt:10,maxWidth:600,"& .MuiTextField-root":{m:1,width:"100%"}},onSubmit:z,children:[Object(w.jsx)(O.a,{variant:"h4",component:"div",gutterBottom:!0,className:"fi=orm-title",sx:{mb:5},children:v?"Edit Note":"New Note"}),Object(w.jsx)(E,{changeEv:function(e){var t=T(e,e.target,100,P);R(t.count),D(t.percent),l(e.target.innerText)},countChar:I,percentChar:H,fieldRef:P}),Object(w.jsx)(L,{changeEv:function(e){F(e.target,"iframe, script, noscript, frame, form, input, textarea"),b(e.target.innerHTML)},fieldRef:_}),Object(w.jsxs)(x.a,{direction:"row",spacing:4,sx:{mt:3,justifyContent:"flex-end"},children:[Object(w.jsx)(g.a,{"aria-label":"cancel",variant:"text",color:"secondary",startIcon:Object(w.jsx)(N.a,{}),onClick:e.cancel,children:"Cancel"}),Object(w.jsx)(M.a,{color:"secondary",onClick:z,loading:c,loadingPosition:"start",startIcon:Object(w.jsx)(S.a,{}),variant:"contained",disabled:""===j&&""===s||H>100,children:"Save"})]})]})},A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(w.jsx)(R,{id:this.props.id,cancel:this.props.cancel,notes:this.props.notes,save:this.props.save})}}]),n}(i.Component),B=n(132),H=n(134),D=n(135),P=n(136),_=n(137),W=n(75),z=n.n(W),q=n(76),J=n.n(q);function K(e,t){return e.length>t?e.substring(0,t-1)+"...":e}var U=function(e){var t,n=e.data,i=n.title,c=n.content,a=n.id;return Object(w.jsx)(B.a,{className:"notes-item",sx:{maxWidth:345},onClick:function(){return e.open(a)},children:Object(w.jsxs)(H.a,{component:"div",children:[Object(w.jsxs)(D.a,{children:[Object(w.jsx)(O.a,{gutterBottom:!0,variant:"h5",component:"div",className:"notes-title",children:i}),Object(w.jsx)(O.a,{variant:"body2",color:"text.secondary",className:"notes-description",dangerouslySetInnerHTML:{__html:K((t=c,t.replace(/(<([^>]+)>)/gi,"")),200)}})]}),Object(w.jsxs)(P.a,{className:"notes-btns",children:[Object(w.jsx)(_.a,{"aria-label":"edit",color:"primary",onClick:function(t){return e.edit(t,a)},children:Object(w.jsx)(z.a,{})}),Object(w.jsx)(_.a,{"aria-label":"delete",color:"primary",onClick:function(t){return e.delete(t,a)},children:Object(w.jsx)(J.a,{})})]})]})})},Y=function(e){var t=e.notes||[];return Object(w.jsx)(f.a,{sx:{display:"flex",alignItems:"flex-start",flexDirection:"column",mt:10,pr:5,minWidth:"fit-content"},children:t.map((function(t,n){return Object(w.jsx)(U,{data:t,delete:e.delete,edit:e.edit,open:e.open},n)}))})},G=n(124),V=function(e){var t=e.data,n=t.title,c=t.content,a=Object(i.useRef)(null),o=Object(i.useState)(""),r=Object(m.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)({top:0,left:0}),u=Object(m.a)(d,2),j=u[0],b=u[1];Object(i.useEffect)((function(){return a.current.querySelectorAll("a").forEach((function(e){e.addEventListener("click",x)})),function(){window.removeEventListener("click",x)}}),[e.data]),Object(i.useEffect)((function(){}),[s]);var h=function(){l("")},p=Boolean(s),v=p?"simple-popover":void 0,x=function(e){var t,n,i;e.preventDefault(),e.target.setAttribute("aria-describedby",v),l(e.target.getAttribute("href")),b({top:(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.getBoundingClientRect().y)+(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.getBoundingClientRect().height),left:null===e||void 0===e||null===(i=e.target)||void 0===i?void 0:i.getBoundingClientRect().x})};return Object(w.jsxs)(f.a,{component:"div",className:"notes-preview",sx:{mt:10,flexGrow:1,width:"100%"},children:[Object(w.jsx)(O.a,{variant:"h4",gutterBottom:!0,component:"div",className:"notes-title",children:n}),Object(w.jsxs)(f.a,{component:"div",children:[Object(w.jsx)(O.a,{ref:a,variant:"body2",gutterBottom:!0,className:"notes-description",dangerouslySetInnerHTML:{__html:c}}),Object(w.jsxs)(G.a,{anchorReference:"anchorPosition",anchorPosition:{top:j.top,left:j.left},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:h,id:v,open:p,children:[Object(w.jsx)(O.a,{variant:"body3",sx:{p:1},children:"Open the link in a new tab?"}),Object(w.jsx)(g.a,{onClick:h,size:"small",children:"No"}),Object(w.jsx)(g.a,{onClick:function(){s&&window.open(s),h()},size:"small",children:"Yes"})]})]})]})},X=function(e){return Object(w.jsx)(V,{data:e.note})},Q=function(e,t){var n=localStorage.getItem(e);return JSON.parse(n)||t},Z=Q("list",[]),$=function(e){return localStorage.setItem("list",JSON.stringify(e))},ee=function(e){return Object(w.jsxs)(f.a,{className:"fullscreen-container",sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",p:1,m:1},children:[Object(w.jsx)(O.a,{variant:"h2",component:"h1",gutterBottom:!0,className:"notes-title",sx:{textAlign:"center",mb:10},dangerouslySetInnerHTML:{__html:e.headline}}),Object(w.jsx)(g.a,{"aria-label":"Create",variant:"contained",color:"secondary",startIcon:Object(w.jsx)(v.a,{}),size:"large",onClick:e.create,children:"Create note"})]})},te=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={notes:Z,isEmpty:!Z.length,previewMode:Z.length>0,editMode:!1,id:!1},i.create=i.create.bind(Object(d.a)(i)),i.cancel=i.cancel.bind(Object(d.a)(i)),i.updateList=i.updateList.bind(Object(d.a)(i)),i.delete=i.delete.bind(Object(d.a)(i)),i.edit=i.edit.bind(Object(d.a)(i)),i.save=i.save.bind(Object(d.a)(i)),i.open=i.open.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"create",value:function(){this.setState({isEmpty:!1,editMode:!0,id:!1,previewMode:!1})}},{key:"cancel",value:function(){this.setState({isEmpty:!0,editMode:!1,previewMode:!0,id:!1})}},{key:"updateList",value:function(e){this.setState({notes:e,id:!1})}},{key:"save",value:function(e,t){var n=this.state.notes;t>=0?n[t]=e:n=[].concat(Object(r.a)(n),[e]),$(n),this.updateList(n)}},{key:"delete",value:function(e,t){e.stopPropagation();var n=this.state.notes.filter((function(e){return e.id!==t}));$(n),this.setState((function(e){return{notes:n,id:!1,editMode:!e.id,previewMode:!!e.id}}))}},{key:"edit",value:function(e,t){e.stopPropagation(),this.setState({editMode:!0,previewMode:!1,id:t})}},{key:"open",value:function(e){this.setState({editMode:!1,previewMode:!0,id:e})}},{key:"render",value:function(){var e=this,t={title:"Empty",content:"Choose a note to display."};return this.state.previewMode&&this.state.id&&(t=this.state.notes.find((function(t){return t.id===e.state.id}))),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsxs)(h.a,{maxWidth:"lg",children:[!this.state.notes.length&&this.state.isEmpty&&Object(w.jsx)(ee,{create:this.create,headline:"Welcome! <br/> You can create your first note."}),(this.state.notes.length||!this.state.isEmpty)&&Object(w.jsxs)(f.a,{sx:{display:"flex",width:"100%"},children:[Object(w.jsx)(Y,{notes:this.state.notes,delete:this.delete,edit:this.edit,open:this.open}),Object(w.jsxs)(f.a,{component:"div",sx:{maxWidth:"100%",overflow:"hidden",width:"100%"},children:[(this.state.editMode||this.state.id)&&!this.state.previewMode&&Object(w.jsx)(f.a,{component:"div",className:"notes-create",sx:{mb:10},children:Object(w.jsx)(A,{id:this.state.id,cancel:this.cancel,notes:this.state.notes,save:this.save})}),this.state.previewMode&&Object(w.jsx)(X,{note:t})]})]})]}),Object(w.jsx)("div",{className:"fixed-button",children:Object(w.jsx)(b.a,{color:"secondary","aria-label":"add",onClick:this.create,children:Object(w.jsx)(v.a,{})})})]})}}]),n}(i.Component),ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),a(e),o(e)}))};o.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(te,{})}),document.getElementById("root")),ne()}},[[94,1,2]]]);
//# sourceMappingURL=main.b9a7fa92.chunk.js.map